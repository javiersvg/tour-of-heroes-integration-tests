<html>

<head>
    <title>Log in page</title>
    <script language="Javascript">
        var first = {
            "method": "fireIdpEvent",
            "params": {
                "type": "sessionStateChanged",
                "clientId": "204566820246-67tser74gtv78uiaskm945enn5b5agl2.apps.googleusercontent.com"
            },
            "rpcToken": "719728879.0778196"
        };
        var second = {
            "method": "fireIdpEvent", "params": {
                "type": "authResult",
                "clientId": "204566820246-67tser74gtv78uiaskm945enn5b5agl2.apps.googleusercontent.com",
                "id": "auth328543",
                "authResult": {
                    "scope": "email profile https://www.googleapis.com/auth/userinfo.profile openid https://www.googleapis.com/auth/userinfo.email",
                    "id_token": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImY2ZjgwZjM3ZjIxYzIzZTYxZjJiZTQyMzFlMjdkMjY5ZDY2OTUzMjkiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJhY2NvdW50cy5nb29nbGUuY29tIiwiYXpwIjoiMjA0NTY2ODIwMjQ2LTY3dHNlcjc0Z3R2Nzh1aWFza205NDVlbm41YjVhZ2wyLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwiYXVkIjoiMjA0NTY2ODIwMjQ2LTY3dHNlcjc0Z3R2Nzh1aWFza205NDVlbm41YjVhZ2wyLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwic3ViIjoiMTAxOTExOTc3MTk0OTA4NjU3MzE0IiwiZW1haWwiOiJqYXZpZXIuc3ZnQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJpYXQiOjE1NjcyOTM4NjMsImV4cCI6MTU2NzI5NzQ2MywianRpIjoiOWFjNzk2ZjUxMjg5MjRmYTZiMTYzYjcwNWY4ZjE3MzYzMjU5MjJkYyJ9.oSX06E6DNuqjYppcfG9rQ5-LQwoiGCzC2pz6P4aU7voTDxla77QI5CPT4wo13DOfYkIl0ELXlCLGdRhXRSi5brxluj4_T8pXra1TXMmVTmy7iXHARbiZUb6EfutiYQEfbqNceTaTKbbGApVnTFOb04rTEjH-1kEzWJAiHzDwyieZS_iGTF6RtKp3cJ880H0IF22DHuOn_L6kaxvsE6qkEJXqIMFFsg4ore7HJkzR_6XPZ9m-Om7yTtbdx1xXfqI-0njIjiHnqdzEMDRG2rLGmuaMAUbiMAagb3DAywrSLCPuWQMQuH45rn6vRBSs98HnWpP4GWq0X27orAfreQuS7A",
                    "login_hint": "AJDLj6JUa8yxXrhHdWRHIV0S13cAf6i36nZJb-9EMBYsODpDedqlifoBgLNqAHjtbn5aZ5yqZZyE2_KMgELfWOe2SVb7dnB0jw",
                    "client_id": "204566820246-67tser74gtv78uiaskm945enn5b5agl2.apps.googleusercontent.com"
                }
            }, "rpcToken": "2127703797.8977408"
        };

        var third = {
            "method": "fireIdpEvent",
            "params": {
                "type": "sessionSelectorChanged",
                "newValue": {
                    "hint": "AJDLj6JUa8yxXrhHdWRHIV0S13cAf6i36nZJb-9EMBYsODpDedqlifoBgLNqAHjtbn5aZ5yqZZyE2_KMgELfWOe2SVb7dnB0jw",
                    "disabled": false
                },
                "domain": "http://localhost:4200",
                "crossSubDomains": true
            },
            "rpcToken": "2127703797.8977408"
        };

        var auth = {
            "method": "fireIdpEvent",
            "params": {
                "type": "authResult",
                "clientId": "204566820246-67tser74gtv78uiaskm945enn5b5agl2.apps.googleusercontent.com",
                "id": "auth144115",
                "authResult": {
                    "scope": "email profile https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email openid",
                    "id_token": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImRmMzc1ODkwOGI3OTIyOTNhZDk3N2EwYjk5MWQ5OGE3N2Y0ZWVlY2QiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJhY2NvdW50cy5nb29nbGUuY29tIiwiYXpwIjoiMjA0NTY2ODIwMjQ2LTY3dHNlcjc0Z3R2Nzh1aWFza205NDVlbm41YjVhZ2wyLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwiYXVkIjoiMjA0NTY2ODIwMjQ2LTY3dHNlcjc0Z3R2Nzh1aWFza205NDVlbm41YjVhZ2wyLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwic3ViIjoiMTAxOTExOTc3MTk0OTA4NjU3MzE0IiwiZW1haWwiOiJqYXZpZXIuc3ZnQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJpYXQiOjE1NjQzMjk0NjcsImV4cCI6MTU2NDMzMzA2NywianRpIjoiMzFiM2IwZGE2N2FkYWMwMDJiNjYwYzEyZTMyYTM1MWVlZGM4NmMzMCJ9.e2kdOc9xb4QR_c5qooZCosBAZD7NgwTKOETUSZig1VSYNLuul_mYqJOkQyeR8Zi0ZV4caTNEhFy6pj25mQB-P7XgNK3ngnZlmrlxb8chkslL2PUV0DttLihHVqqzivgZi5XEvVI-UE5IWX5CcCOHfhjd9Tth2_GoOlqWh9UkklArD-NcfG1H8A4DQewkgV-9uo3I3f6JQD5UYCkmKwIG9t9bgzBreXDVm21SEwkSEzNhZ6Uwjt-hUL-OBRlEVpAlYO-_ijj76_B5OMfepldD0qw8hNTXQc2EhMVuWR7x8u4XIKZUbuOAMmiy3pEJphx6HfH4ESCb6wTr0Kf8duIW6w",
                    "login_hint": "AJDLj6JUa8yxXrhHdWRHIV0S13cAf6i36nZJb-9EMBYsODpDedqlifoBgLNqAHjtbn5aZ5yqZZyE2_KMgELfWOe2SVb7dnB0jw",
                    "client_id": "204566820246-67tser74gtv78uiaskm945enn5b5agl2.apps.googleusercontent.com"
                }
            },
            "rpcToken": "795162313.5098065"
        };
        var auth2 = {
            "method": "fireIdpEvent",
            "params": {
                "type": "sessionSelectorChanged",
                "newValue": {
                    "hint": "AJDLj6JUa8yxXrhHdWRHIV0S13cAf6i36nZJb-9EMBYsODpDedqlifoBgLNqAHjtbn5aZ5yqZZyE2_KMgELfWOe2SVb7dnB0jw",
                    "disabled": false
                },
                "domain": "http://localhost:4200",
                "crossSubDomains": true
            },
            "rpcToken": "276005372.66739374"
        };

        var token = {
            "id": "495-729344.0206908908", "result": {
                "token_type": "Bearer",
                "access_token": "ya29.Gl1TBw9IeWhPH5Arzg12oYbVU5vsdQ2gNazYuBKLiaAQkLkmaYXEOzCnFxVXXb2w73f_RDKh3TLBcNHA1Eal8_E27V2kfU0ofNyGZOFaX-QZEHpcNFH4Zb2UaWrNzWA",
                "scope": "email profile https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email openid",
                "login_hint": "AJDLj6JUa8yxXrhHdWRHIV0S13cAf6i36nZJb-9EMBYsODpDedqlifoBgLNqAHjtbn5aZ5yqZZyE2_KMgELfWOe2SVb7dnB0jw",
                "expires_in": 3600,
                "id_token": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImRmMzc1ODkwOGI3OTIyOTNhZDk3N2EwYjk5MWQ5OGE3N2Y0ZWVlY2QiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJhY2NvdW50cy5nb29nbGUuY29tIiwiYXpwIjoiMjA0NTY2ODIwMjQ2LTY3dHNlcjc0Z3R2Nzh1aWFza205NDVlbm41YjVhZ2wyLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwiYXVkIjoiMjA0NTY2ODIwMjQ2LTY3dHNlcjc0Z3R2Nzh1aWFza205NDVlbm41YjVhZ2wyLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwic3ViIjoiMTAxOTExOTc3MTk0OTA4NjU3MzE0IiwiZW1haWwiOiJqYXZpZXIuc3ZnQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJhdF9oYXNoIjoiZXZZNnBrSC1qUWFJcEVmLWNwbHF2dyIsIm5hbWUiOiJKYXZpZXIgTWnDsW8iLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDUuZ29vZ2xldXNlcmNvbnRlbnQuY29tLy1XVGVSeFlZQnJiYy9BQUFBQUFBQUFBSS9BQUFBQUFBQUdCdy9GRXNQeWFiMGRsay9zOTYtYy9waG90by5qcGciLCJnaXZlbl9uYW1lIjoiSmF2aWVyIiwiZmFtaWx5X25hbWUiOiJNacOxbyIsImxvY2FsZSI6ImVzLTQxOSIsImlhdCI6MTU2NDMyOTQ5MywiZXhwIjoxNTY0MzMzMDkzLCJqdGkiOiIyYjQ5ZDQzYTQxODUyNWU5MWM4NWQ1ZjdmYTUxNjIwODg0YzJhOTVmIn0.LkVef2cWpoK9DS6QuUlHn6vjd53akV4Mrq-G8c2WQ_gY36qc4I2b3poS-L2TjslsLhnGvtvIdhW4jdMVTpz-oKPz9aTVnYyWIxT7EdBOZcbJk5kH1At_Kd2AaH4BQECuQi31xMYzar2YKGd1Dx063KauNbN4YQfivcZBowsX4W4QjTf1IXMxLuuzxiZWouXApd8cWgx8p1CkTFeN35XuQaKAjFC--Rlw2layVq2CzgWVZHwq9XVHsriKxse1kOhoPfLCyeIozbMEwlRjhnrYvSmO1zJ_f_wH-xS0sVELTw4biv5IU6KJgjZ1jBavf-S14qHxXwqRLOIL0sjfqS4taA",
                "session_state": {"extraQueryParams": {"authuser": "0"}},
                "first_issued_at": 1564329492723,
                "expires_at": 1564333092723
            }, "rpcToken": "795162313.5098065"
        };
        var listen = function (event) {
            console.log("NEW EVENT: ----> " + event.data);
            window.opener.postMessage(JSON.stringify(token), "http://localhost:4200");
            self.close();
        };
        window.addEventListener("message", listen)

        function login() {
            var opener = window.opener;
            opener.postMessage(JSON.stringify(first), "http://localhost:4200");
            opener.postMessage(JSON.stringify(second), "http://localhost:4200");
            opener.postMessage(JSON.stringify(third), "http://localhost:4200");
        }
    </script>
</head>

<body><br/>Log In? <input type="button" value="Ok" OnClick="login()"/></body>

</html>